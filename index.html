<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Issak Gezehei - Product Leader</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="font-sans text-gray-800 bg-gray-50">
  <nav class="fixed top-0 left-0 w-full bg-white shadow-md z-50 flex justify-between items-center px-6 py-4">
    <div class="text-xl font-bold"></div>
    <div class="md:hidden">
      <button id="menuToggle" class="text-2xl">☰</button>
    </div>
    <div id="navLinks" class="hidden md:flex items-center space-x-4">
      <a href="#" class="text-black font-medium hover:text-blue-600 transition-colors">Home</a>
      <div class="relative group">
        <button id="desktopDropdownToggle" class="text-black font-medium hover:text-blue-600 transition-colors">Past Work</button>
        <div id="desktopDropdown" class="absolute left-0 mt-2 hidden flex-col bg-white shadow-md rounded-md py-2 w-56 z-50">
          <a class="px-4 py-2 hover:bg-gray-100 block" href="#" onclick="redirectToLogin('https://igezehei.github.io/fintech-101/')">Fintech</a>
          <a class="px-4 py-2 hover:bg-gray-100 block" href="#" onclick="redirectToLogin('https://igezehei.github.io/supply-chain/')">Supply Chain</a>
          <a class="px-4 py-2 hover:bg-gray-100 block" href="#" onclick="redirectToLogin('https://igezehei.github.io/artificial-intelligence/')">Artificial Intelligence</a>
          <a class="px-4 py-2 hover:bg-gray-100 block" href="#" onclick="redirectToLogin('https://igezehei.github.io/quantum-computing/')">Quantum Computing</a>
        </div>
      </div>
      <a href="#contact-section" class="text-black font-medium hover:text-blue-600 transition-colors">Contact</a>
    </div>
  </nav>

  <div id="mobileMenu" class="md:hidden hidden flex-col absolute top-20 left-0 w-full bg-white shadow-md px-6 py-4 z-40">
    <a href="#" class="text-black font-medium hover:text-blue-600">Home</a>
    <div class="relative">
      <button id="mobileDropdownToggle" class="text-black font-medium hover:text-blue-600 w-full text-left">Past Work ▾</button>
      <div id="mobileDropdown" class="flex-col mt-2 space-y-2">
        <a class="text-black font-medium hover:text-blue-600" href="https://igezehei.github.io/fintech-101/">Fintech</a>
        <a class="text-black font-medium hover:text-blue-600" href="#" onclick="redirectToLogin('https://igezehei.github.io/supply-chain/')">Supply Chain</a>
        <a class="text-black font-medium hover:text-blue-600" href="#" onclick="redirectToLogin('https://igezehei.github.io/artificial-intelligence/')">Artificial Intelligence</a>
        <a class="text-black font-medium hover:text-blue-600" href="#" onclick="redirectToLogin('https://igezehei.github.io/quantum-computing/')">Quantum Computing</a>
      </div>
    </div>
    <a href="#contact-section" class="text-black font-medium hover:text-blue-600">Contact</a>
  </div>

  <section class="bg-white py-20 text-center px-6">
    <div class="max-w-3xl mx-auto py-20 px-6 flex flex-col items-center justify-center text-center">
      <h1 class="text-4xl md:text-5xl font-bold mb-4">Issak Gezehei</h1>
      <p class="text-lg md:text-xl text-gray-600 mb-2">Product Leader | SaaS Innovator | AI Strategist</p>
      <p class="max-w-2xl mx-auto mt-6 text-gray-700 text-center">
        I build scalable platforms that transform how businesses operate — blending AI, integration, and customer-first product thinking.
      </p>
      <div class="bg-gray-100 rounded-lg p-6 shadow-md mt-8 w-full">
        <h2 class="text-2xl font-semibold mb-4">Hi there!</h2>
        <p class="leading-relaxed text-gray-700 mb-4 text-justify">
          I am an experienced Product Leader with a strong background in B2B and B2C SaaS solutions for both enterprise and SMB markets. I specialize in platform integration and emerging technologies, with a proven track record of leading cross-functional teams to deliver customer-centric products that improve operational efficiency and drive business growth.
        </p>
        <p class="leading-relaxed text-gray-700 mb-4 text-justify">
          My product philosophy is rooted in key principles: deep customer understanding, continuous value delivery, outcome-focused execution, and empowered teams. I embrace Marty Cagan's Product Operating Models, which foster collaboration, enable rapid iteration, and support product-led growth.
        </p>
        <p class="leading-relaxed text-gray-700 text-justify">
          As an early adopter of crypto technologies and a champion of AI-driven automation, I consistently integrate innovative thinking into product strategies—modernizing legacy systems and enabling next-gen capabilities for intelligent decision-making and engagement.
        </p>
      </div>
    </div>

    <section class="bg-gray-100 py-4 px-6">
    <!-- Removed duplicate 'Hi there!' section -->
    </section>

  <section class="bg-white py-16 px-6" id="contact-section">
    <div class="max-w-4xl mx-auto text-center">
      <h3 class="text-xl font-semibold text-gray-600">Contact Me</h3>
      <h2 class="text-3xl font-bold mb-6">Get In Touch</h2>
      <div class="flex justify-center gap-6 text-blue-600">
        <a href="https://mail.google.com/mail/?view=cm&fs=1&to=igezehei@gmail.com" target="_blank" class="hover:underline flex items-center">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8m-18 0a2 2 0 012-2h14a2 2 0 012 2m-18 0v8a2 2 0 002 2h14a2 2 0 002-2V8" />
          </svg>
          igezehei@gmail.com
        </a>
        <a href="https://github.com/igezehei" class="hover:underline flex items-center gap-2">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 2C6.48 2 2 6.48 2 12c0 4.42 2.87 8.17 6.84 9.5.5.09.66-.22.66-.48 0-.24-.01-.87-.01-1.71-2.78.61-3.37-1.34-3.37-1.34-.45-1.15-1.11-1.46-1.11-1.46-.91-.62.07-.61.07-.61 1.01.07 1.54 1.04 1.54 1.04.89 1.53 2.34 1.09 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.56-1.11-4.56-4.95 0-1.09.39-1.98 1.03-2.68-.1-.25-.45-1.27.1-2.65 0 0 .84-.27 2.75 1.02A9.56 9.56 0 0112 6.8c.85.004 1.71.11 2.51.32 1.91-1.29 2.75-1.02 2.75-1.02.55 1.38.2 2.4.1 2.65.64.7 1.03 1.59 1.03 2.68 0 3.85-2.34 4.7-4.57 4.95.36.31.68.92.68 1.85 0 1.34-.01 2.42-.01 2.75 0 .27.16.58.67.48A10.01 10.01 0 0022 12c0-5.52-4.48-10-10-10z" />
          </svg>
          GitHub
        </a>
        <a href="https://www.linkedin.com/in/igezehei/" class="hover:underline flex items-center gap-2">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 8a6 6 0 016 6v6h-4v-6a2 2 0 00-4 0v6h-4v-6a6 6 0 016-6zM2 9h4v12H2zM4 4a2 2 0 110 4 2 2 0 010-4z" />
          </svg>
          LinkedIn
        </a>
      </div>
      <!-- Removed unused UIkit contact icons -->
    </div>
  </section>

  <footer class="bg-white text-center text-gray-500 py-6 border-t">
  <div class="max-w-xl mx-auto bg-gray-100 rounded-lg p-6 shadow-md mb-8">
    <h2 class="text-xl font-bold mb-2 text-center">Chat with Issak's Notebook LLM</h2>
    <p class="mb-4 text-gray-700 text-center">Ask me about my experience, projects, product philosophy, or the latest in AI trends and evaluation!
      <span class="ml-2 relative group">
        <button class="text-blue-600 underline text-sm" id="aiTrendsTipBtn" type="button">AI Trends & Evaluation Info</button>
        <div id="aiTrendsTooltip" class="hidden absolute left-1/2 transform -translate-x-1/2 mt-2 w-96 bg-white border border-gray-300 rounded shadow-lg p-4 text-left z-50 text-sm">
          <b>AI Trends & Evaluation</b><br>
          Artificial Intelligence is rapidly transforming industries. Key trends include Generative AI, Large Language Models (LLMs), Responsible AI, and AI-driven automation. Measuring and evaluating AI systems is crucial for ensuring reliability, fairness, and business impact.<br><br>
          <ul class="list-disc list-inside mb-2">
            <li><b>Generative AI:</b> Models that create text, images, code, and more.</li>
            <li><b>LLM Evaluation:</b> Metrics like accuracy, relevance, bias, and user satisfaction.</li>
            <li><b>Responsible AI:</b> Fairness, transparency, and ethical considerations.</li>
            <li><b>AI for Product:</b> Using AI to drive growth, automate workflows, and personalize experiences.</li>
          </ul>
          <b>How do you measure LLMs?</b> Common approaches include human evaluation, automated metrics (BLEU, ROUGE, etc.), and real-world user feedback.<br><br>
          <b>Example questions to ask my Notebook LLM:</b>
          <ul class="list-disc list-inside">
            <li>What are the latest trends in AI product development?</li>
            <li>How do you evaluate the performance of a Large Language Model?</li>
            <li>What metrics are used to measure AI fairness?</li>
            <li>How can AI improve SaaS platforms?</li>
            <li>What is Responsible AI and why does it matter?</li>
          </ul>
        </div>
      </span>
    </p>
    <div id="llmChatHistory" class="mb-4 space-y-2"></div>
    <div class="flex gap-2">
      <input id="llmChatInput" type="text" class="flex-1 border border-gray-300 rounded-md p-2" placeholder="Type your question..." />
      <button id="llmChatSend" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">Send</button>
    </div>
  </div>
  <span id="copyrightYear"></span> Issak Gezehei. All rights reserved.
  <div id="countdown2026" class="mt-1 text-sm text-blue-600"></div>
  <div id="userInfo" class="mt-2 text-sm text-gray-700"></div>
  </footer>

  <div id="loginModal" class="hidden fixed inset-0 bg-gray-800 bg-opacity-75 flex items-center justify-center z-50">
    <div class="bg-white rounded-lg shadow-lg p-6 w-96">
      <h2 class="text-xl font-bold mb-4">Login</h2>
      <div class="space-y-4">
        <button id="loginGoogle" class="w-full bg-red-500 text-white py-2 rounded-md hover:bg-red-600 flex items-center justify-center gap-2">
          <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/google/google-original.svg" alt="Google" class="h-5 w-5"> Login with Google
        </button>
        <button id="loginGithub" class="w-full bg-gray-800 text-white py-2 rounded-md hover:bg-gray-900 flex items-center justify-center gap-2">
          <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/github/github-original.svg" alt="GitHub" class="h-5 w-5"> Login with GitHub
        </button>
        <button id="loginLinkedin" class="w-full bg-blue-700 text-white py-2 rounded-md hover:bg-blue-800 flex items-center justify-center gap-2">
          <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/linkedin/linkedin-original.svg" alt="LinkedIn" class="h-5 w-5"> Login with LinkedIn
        </button>
      </div>
      <button id="closeLoginModal" class="mt-6 text-blue-600 hover:underline">Close</button>
    </div>
  </div>

  <!-- Notebook LLM Modal -->

  <script>
  // Simple runtime logger to capture errors and help debug dropdown issues
  (function setupLogger() {
    console.log('[logger] script start - viewport width=', window.innerWidth);
    window.addEventListener('error', (e) => {
      console.error('[logger][error]', e.message, 'at', e.filename + ':' + e.lineno + ':' + e.colno, e.error);
    });
    window.addEventListener('unhandledrejection', (e) => {
      console.error('[logger][unhandledrejection]', e.reason);
    });
  })();
  // Tooltip logic for AI Trends & Evaluation
  const aiTrendsTipBtn = document.getElementById('aiTrendsTipBtn');
  const aiTrendsTooltip = document.getElementById('aiTrendsTooltip');
  aiTrendsTipBtn.addEventListener('mouseenter', () => {
    aiTrendsTooltip.classList.remove('hidden');
  });
  aiTrendsTipBtn.addEventListener('mouseleave', () => {
    aiTrendsTooltip.classList.add('hidden');
  });
  aiTrendsTipBtn.addEventListener('focus', () => {
    aiTrendsTooltip.classList.remove('hidden');
  });
  aiTrendsTipBtn.addEventListener('blur', () => {
    aiTrendsTooltip.classList.add('hidden');
  });
  // Prominent LLM Chat logic
  const chatHistory = document.getElementById('llmChatHistory');
  const chatInput = document.getElementById('llmChatInput');
  const chatSend = document.getElementById('llmChatSend');

  function appendMessage(sender, text) {
    const msgDiv = document.createElement('div');
    msgDiv.className = sender === 'user'
      ? 'text-right'
      : 'text-left bg-blue-50 rounded px-3 py-2';
    msgDiv.innerHTML = `<span class="font-semibold">${sender === 'user' ? 'You' : 'Issak LLM'}:</span> ${text}`;
    chatHistory.appendChild(msgDiv);
    chatHistory.scrollTop = chatHistory.scrollHeight;
  }

  chatSend.addEventListener('click', () => {
    const query = chatInput.value.trim();
    if (!query) return;
    appendMessage('user', query);
    chatInput.value = '';
    appendMessage('llm', 'Thinking...');
    // Replace with your actual Notebook LLM API endpoint
    fetch('https://your-notebook-llm-api.example.com/query', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ question: query })
    })
    .then(res => res.json())
    .then(data => {
      chatHistory.lastChild.remove();
      appendMessage('llm', data.answer ? data.answer : 'No answer returned.');
    })
    .catch(() => {
      chatHistory.lastChild.remove();
      appendMessage('llm', 'Error querying LLM API.');
    });
  });

  chatInput.addEventListener('keydown', e => {
    if (e.key === 'Enter') chatSend.click();
  });
  // LLM Modal logic (guarded - modal elements may be absent)
  const openLLMModalBtn = document.getElementById('openLLMModal');
  const closeLLMModalBtn = document.getElementById('closeLLMModal');
  const submitLLMQueryBtn = document.getElementById('submitLLMQuery');
  const llmModalEl = document.getElementById('llmModal');
  const llmResponseEl = document.getElementById('llmResponse');
  const llmQueryEl = document.getElementById('llmQuery');

  if (openLLMModalBtn && llmModalEl && llmResponseEl && llmQueryEl) {
    openLLMModalBtn.addEventListener('click', () => {
      llmModalEl.classList.remove('hidden');
      llmResponseEl.innerHTML = '';
      llmQueryEl.value = '';
    });
  }

  if (closeLLMModalBtn && llmModalEl) {
    closeLLMModalBtn.addEventListener('click', () => {
      llmModalEl.classList.add('hidden');
    });
  }

  if (submitLLMQueryBtn && llmResponseEl && llmQueryEl) {
    submitLLMQueryBtn.addEventListener('click', () => {
      const query = llmQueryEl.value.trim();
      if (!query) {
        llmResponseEl.innerHTML = '<span class="text-red-500">Please enter a question.</span>';
        return;
      }
      llmResponseEl.innerHTML = 'Querying...';
      // Replace with your actual Notebook LLM API endpoint
      fetch('https://your-notebook-llm-api.example.com/query', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ question: query })
      })
      .then(res => res.json())
      .then(data => {
        llmResponseEl.innerHTML = data.answer ? data.answer : '<span class="text-red-500">No answer returned.</span>';
      })
      .catch(() => {
        llmResponseEl.innerHTML = '<span class="text-red-500">Error querying LLM API.</span>';
      });
    });
  }
  // Set fixed copyright year
  document.getElementById('copyrightYear').innerHTML = '&copy; 2025';
  // Countdown to 2026
  const countdownEl = document.getElementById('countdown2026');
  function updateCountdown() {
    const target = new Date('2026-01-01T00:00:00');
    const now = new Date();
    const diff = target - now;
    if (diff <= 0) {
      countdownEl.textContent = '2026 is here!';
      clearInterval(countdownTimer);
      return;
    }
    const days = Math.floor(diff / (1000 * 60 * 60 * 24));
    const hours = Math.floor((diff / (1000 * 60 * 60)) % 24);
    const minutes = Math.floor((diff / (1000 * 60)) % 60);
    const seconds = Math.floor((diff / 1000) % 60);
    countdownEl.textContent = `Countdown to 2026: ${days}d ${String(hours).padStart(2,'0')}h ${String(minutes).padStart(2,'0')}m ${String(seconds).padStart(2,'0')}s`;
  }
  updateCountdown();
  const countdownTimer = setInterval(updateCountdown, 1000);
  // Ensure the menu toggle works for mobile
  document.getElementById('menuToggle').addEventListener('click', () => {
    const menu = document.getElementById('mobileMenu');
    menu.classList.toggle('hidden');
  });

  // Ensure the dropdown toggle works for mobile
  const mobileDropdownToggle = document.getElementById('mobileDropdownToggle');
  const mobileDropdown = document.getElementById('mobileDropdown');
  if (mobileDropdownToggle && mobileDropdown) {
    mobileDropdownToggle.addEventListener('click', () => {
      console.log('[logger] mobileDropdownToggle clicked');
      mobileDropdown.classList.toggle('hidden');
      console.log('[logger] mobileDropdown hidden=', mobileDropdown.classList.contains('hidden'));
    });
  } else {
    console.warn('[logger] mobile dropdown elements missing', !!mobileDropdownToggle, !!mobileDropdown);
  }

  // Ensure the dropdown toggle works for desktop
  const desktopDropdownToggle = document.getElementById('desktopDropdownToggle');
  const desktopDropdown = document.getElementById('desktopDropdown');
  if (desktopDropdownToggle && desktopDropdown) {
    desktopDropdownToggle.addEventListener('click', (event) => {
      event.preventDefault(); // Prevent default link behavior
      console.log('[logger] desktopDropdownToggle clicked');
      desktopDropdown.classList.toggle('hidden');
      console.log('[logger] desktopDropdown hidden=', desktopDropdown.classList.contains('hidden'));
    });
  } else {
    console.warn('[logger] desktop dropdown elements missing', !!desktopDropdownToggle, !!desktopDropdown);
  }

  // Store the target URL for login redirect
  let loginTargetUrl = null;

  function redirectToLogin(targetUrl) {
    loginTargetUrl = targetUrl;
    document.getElementById('loginModal').classList.remove('hidden');
  }

  // Close the login modal when the close button is clicked
  document.getElementById('closeLoginModal').addEventListener('click', () => {
    document.getElementById('loginModal').classList.add('hidden');
  });

  // Auth0 configuration (placeholders are defined later and may be overridden by /auth-config.json)

  // Helpful warnings when placeholders are left in place
  const userInfoEl = document.getElementById('userInfo');
    // Auth0 configuration (can be overridden by a local /auth-config.json file)
    let auth0Domain = 'YOUR_AUTH0_DOMAIN'; // e.g. dev-xxxxxx.us.auth0.com
    let auth0ClientId = 'YOUR_AUTH0_CLIENT_ID';

    // Two-phase init: wait for optional config file and SDK load before calling initAuth0
    let sdkLoaded = false;
    let configLoaded = false;

    function maybeInitAuth0() {
      if (!sdkLoaded || !configLoaded) return;
      try {
        initAuth0();
      } catch (err) {
        console.error('[auth] initAuth0 failed', err);
      }
    }

    // Try to load /auth-config.json (create this locally with your real domain/client id)
    fetch('/auth-config.json').then(res => {
      if (!res.ok) throw new Error('no config');
      return res.json();
    }).then(cfg => {
      if (cfg.auth0Domain) auth0Domain = cfg.auth0Domain;
      if (cfg.auth0ClientId) auth0ClientId = cfg.auth0ClientId;
      console.log('[auth] loaded auth-config.json', { auth0Domain, auth0ClientId: !!auth0ClientId });
    }).catch(() => {
      console.warn('[auth] no /auth-config.json found — using inline placeholders');
    }).finally(() => {
      configLoaded = true;
      maybeInitAuth0();
    });

    // Load Auth0 JS SDK
    (function() {
      const script = document.createElement('script');
      script.src = 'https://cdn.auth0.com/js/auth0-spa-js/1.22/auth0-spa-js.production.js';
      script.onload = () => {
        sdkLoaded = true;
        console.log('[auth] auth0 SDK loaded');
        maybeInitAuth0();
      };
      script.onerror = (e) => console.error('[auth] failed to load SDK', e);
      document.head.appendChild(script);
    })();

  // Fallback/safe login helper so clicks surface a clear message if Auth0 isn't ready
  function safeLoginWithConnection(connection) {
    if (window.auth0) {
      try {
        window.auth0.loginWithRedirect({ connection });
      } catch (err) {
        console.error('[auth] loginWithRedirect failed', err);
        if (userInfoEl) userInfoEl.innerHTML = '<span class="text-red-600">Login failed — see console for details.</span>';
      }
      return;
    }
    console.warn('[auth] login attempted but auth0 client not initialized');
    if (userInfoEl) userInfoEl.innerHTML = '<span class="text-red-600">Auth not ready. Try again after page loads or check console.</span>';
  }

  // Attach resilient click handlers to login buttons (they will defer to initAuth0's handlers if available)
  ['loginGoogle','loginGithub','loginLinkedin'].forEach(id => {
    const el = document.getElementById(id);
    if (!el) return;
    el.addEventListener('click', (e) => {
      // If initAuth0 attached handlers, they may run too; this gives fallback messaging
      if (id === 'loginGoogle') safeLoginWithConnection('google-oauth2');
      if (id === 'loginGithub') safeLoginWithConnection('github');
      if (id === 'loginLinkedin') safeLoginWithConnection('linkedin');
      e.preventDefault();
    });
  });

  // Load Auth0 JS SDK
  (function() {
    const script = document.createElement('script');
    script.src = 'https://cdn.auth0.com/js/auth0-spa-js/1.22/auth0-spa-js.production.js';
    script.onload = initAuth0;
    document.head.appendChild(script);
  })();

  let auth0 = null;
  function initAuth0() {
    window.createAuth0Client({
      domain: auth0Domain,
      client_id: auth0ClientId,
      redirect_uri: window.location.origin
    }).then(function(client) {
      auth0 = client;
      document.getElementById('loginGoogle').addEventListener('click', () => {
        auth0.loginWithRedirect({ connection: 'google-oauth2' });
      });
      document.getElementById('loginGithub').addEventListener('click', () => {
        auth0.loginWithRedirect({ connection: 'github' });
      });
      document.getElementById('loginLinkedin').addEventListener('click', () => {
        auth0.loginWithRedirect({ connection: 'linkedin' });
      });
      // Check if returning from Auth0 redirect
      auth0.isAuthenticated().then(function(isAuth) {
        if (isAuth) {
          auth0.getUser().then(function(user) {
            if (user) {
              // Display user info
              document.getElementById('userInfo').innerHTML =
                'Logged in as <b>' + (user.name || user.email) + '</b>' +
                (user.email ? ' (' + user.email + ')' : '') +
                '<button id="logoutBtn" class="ml-2 text-blue-600 underline">Logout</button>';
              // Send user info to webhook
              fetch('https://your-webhook-url.example.com/log-login', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({
                  name: user.name,
                  email: user.email,
                  sub: user.sub,
                  provider: user.sub ? user.sub.split('|')[0] : null,
                  timestamp: new Date().toISOString()
                })
              });
              // Logout button
              document.getElementById('logoutBtn').addEventListener('click', function() {
                auth0.logout({ returnTo: window.location.origin });
              });
            }
          });
        } else {
          document.getElementById('userInfo').innerHTML = '';
        }
      });
      // Handle Auth0 redirect callback
      if (window.location.search.includes('code=') && window.location.search.includes('state=')) {
        auth0.handleRedirectCallback().then(function() {
          window.history.replaceState({}, document.title, '/');
          auth0.isAuthenticated().then(function(isAuth) {
            if (isAuth) {
              auth0.getUser().then(function(user) {
                if (user) {
                  document.getElementById('userInfo').innerHTML =
                    'Logged in as <b>' + (user.name || user.email) + '</b>' +
                    (user.email ? ' (' + user.email + ')' : '') +
                    '<button id="logoutBtn" class="ml-2 text-blue-600 underline">Logout</button>';
                  fetch('https://your-webhook-url.example.com/log-login', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                      name: user.name,
                      email: user.email,
                      sub: user.sub,
                      provider: user.sub ? user.sub.split('|')[0] : null,
                      timestamp: new Date().toISOString()
                    })
                  });
                  document.getElementById('logoutBtn').addEventListener('click', function() {
                    auth0.logout({ returnTo: window.location.origin });
                  });
                }
              });
            }
          });
        });
      }
    });
  }
</script>
</body>
</html>
